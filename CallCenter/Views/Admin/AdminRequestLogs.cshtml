@model IEnumerable<CallCenter.Models.RequestLog>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";

    ViewData["Title"] = "Admin";
}
<style>

.table-display {
  position: absolute;
  width: 1358px;
  height: 714px;
  top: 375px;
  left: 209px;
  background-color: #d6ebff;
  border-radius: 25px 0px 25px 0px;
  border: 1px solid;
  border-color: #000000;
  padding: 1%;
}

.admin-logs table {
  border-collapse: collapse;
  width: 100%;
}

.admin-logs tr:nth-child(even) {
  background-color: #f2f2f2;
}

.admin-logs th,
td {
  padding: 5px;
  text-align: center;
}

.admin-logs th {
  font-weight: bold;
  border-radius: 25px;
}

.admin-logs th.selected {
  background-color: #238def;
  color: #fff;
  border-radius: 25px;
}

/* Add class for sorting indicator */
.admin-logs .sorted-asc::after {
  content: " ▲";
}

.admin-logs .sorted-desc::after {
  content: " ▼";
}
.admin-logs .overlap {
  position: absolute;
  width: 143px;
  height: 972px;
  top: 246px;
  left: 0;
  background-color: #0065c2;
}

.admin-logs .group {
  position: relative;
  height: 296px;
  top: 13px;
}

.admin-logs .overlap-group-wrapper {
  position: absolute;
  width: 145px;
  height: 143px;
  top: 153px;
  left: 0;
}

.admin-logs .overlap-group {
  position: relative;
  width: 143px;
  height: 143px;
  background-color: #0065c2;
  box-shadow: inset 4px 0px 4px #00000040;
}

.admin-logs .text-wrapper {
  position: absolute;
  top: 110px;
  left: 22px;
  font-family: "Inter-Regular", Helvetica;
  font-weight: 400;
  color: #000000;
  font-size: 20px;
  text-align: center;
  letter-spacing: 0;
  line-height: 15px;
  text-decoration: underline;
  white-space: nowrap;
}

.admin-logs .vector {
  position: absolute;
  width: 65px;
  height: 80px;
  top: 18px;
  left: 39px;
}

.admin-logs .overlap-wrapper {
  position: absolute;
  width: 143px;
  height: 143px;
  top: 0;
  left: 0;
}

.admin-logs .overlap-2 {
  position: relative;
  height: 143px;
}

.admin-logs .rectangle {
  width: 143px;
  height: 143px;
  left: 0;
  background-color: #0065c2;
  box-shadow: inset 4px 0px 4px #00000040;
  position: absolute;
  top: 0;
}

.admin-logs .text-wrapper-2 {
  position: absolute;
  top: 115px;
  left: 20px;
  font-family: "Inter-Regular", Helvetica;
  font-weight: 400;
  color: #00000040;
  font-size: 20px;
  text-align: center;
  letter-spacing: 0;
  line-height: 15px;
  white-space: nowrap;
}

.admin-logs .img {
  position: absolute;
  width: 80px;
  height: 70px;
  top: 36px;
  left: 31px;
}

.admin-logs .overlap-3 {
  position: absolute;
  width: 1358px;
  height: 714px;
  top: 375px;
  left: 209px;
  background-color: #d6ebff;
  border-radius: 25px 0px 25px 0px;
  border: 1px solid;
  border-color: #000000;
}

.admin-logs .text-wrapper-29 {
  top: 315px;
  left: 237px;
  font-size: 32px;
  white-space: nowrap;
  position: absolute;
  font-family: "Inter-Regular", Helvetica;
  font-weight: 400;
  color: #000000;
  text-align: center;
  letter-spacing: 0;
  line-height: 15px;
}

.admin-logs .div-wrapper {
  position: absolute;
  width: 1627px;
  height: 246px;
  top: 0;
  left: 0;
}

.admin-logs .overlap-4 {
  position: relative;
  width: 1625px;
  height: 246px;
  background-color: #0065c2;
}

.admin-logs .overlap-5 {
  position: absolute;
  width: 141px;
  height: 49px;
  top: 84px;
  left: 1340px;
  background-color: #00376b;
  border-radius: 14px;
}

.admin-logs .text-wrapper-30 {
  position: absolute;
  top: 17px;
  left: 27px;
  font-family: "Inter-Regular", Helvetica;
  font-weight: 400;
  color: #ffffff;
  font-size: 26px;
  text-align: center;
  letter-spacing: 0;
  line-height: 15px;
  white-space: nowrap;
}

.admin-logs .group-8 {
  position: absolute;
  width: 462px;
  height: 172px;
  top: 16px;
  left: 824px;
}

.admin-logs .overlap-group-3 {
  position: relative;
  width: 454px;
  height: 172px;
  background-color: #238def;
  border-radius: 25px;
  border-bottom-width: 3px;
  border-bottom-style: solid;
  border-color: #00000080;
  box-shadow: 0px 4px 4px #00000040;
}

.admin-logs .text-wrapper-31 {
  position: absolute;
  top: 31px;
  left: 136px;
  font-family: "Inter-Regular", Helvetica;
  font-weight: 400;
  color: #000000;
  font-size: 26px;
  text-align: center;
  letter-spacing: 0;
  line-height: 15px;
  white-space: nowrap;
}

.admin-logs .line-2 {
  width: 436px;
  height: 2px;
  top: 54px;
  left: -3px;
  position: absolute;
  object-fit: cover;
}

.admin-logs .text-wrapper-32 {
  position: absolute;
  top: 71px;
  left: 19px;
  font-family: "Inter-Bold", Helvetica;
  font-weight: 700;
  color: #000000;
  font-size: 20px;
  text-align: center;
  letter-spacing: 0;
  line-height: 15px;
  white-space: nowrap;
}

.admin-logs .p {
  position: absolute;
  top: 99px;
  left: 19px;
  font-family: "Inter-Bold", Helvetica;
  font-weight: 700;
  color: #000000;
  font-size: 20px;
  text-align: center;
  letter-spacing: 0;
  line-height: 15px;
  white-space: nowrap;
}

.admin-logs .text-wrapper-33 {
  position: absolute;
  top: 126px;
  left: 19px;
  font-family: "Inter-Bold", Helvetica;
  font-weight: 700;
  color: #000000;
  font-size: 20px;
  text-align: center;
  letter-spacing: 0;
  line-height: 15px;
  white-space: nowrap;
}

.admin-logs .frame {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  position: absolute;
  top: 23px;
  left: 165px;
}

.admin-logs .ellipse {
  position: relative;
  width: 133px;
  height: 133px;
  margin-bottom: -8px;
  margin-right: -8px;
  object-fit: cover;
}

.admin-logs .hover {
  display: flex;
  width: 142px;
  height: 58px;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 10px;
  position: absolute;
  top: 188px;
  left: 143px;
  background-color: #238def;
  border-radius: 15px 0px 0px 0px;
  box-shadow: 0px -4px 4px #0000001a;
}

.admin-logs .text-wrapper-34 {
  position: relative;
  width: fit-content;
  opacity: 0.5;
  font-family: "Inter-Regular", Helvetica;
  font-weight: 400;
  color: #000000;
  font-size: 20px;
  letter-spacing: 0;
  line-height: normal;
  white-space: nowrap;
}

.admin-logs .hover-2 {
  left: 285px;
  display: flex;
  width: 142px;
  height: 58px;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 10px;
  position: absolute;
  top: 188px;
  background-color: #238def;
  box-shadow: 0px -4px 4px #0000001a;
}

.admin-logs .hover-3 {
  left: 427px;
  display: flex;
  width: 142px;
  height: 58px;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 10px;
  position: absolute;
  top: 188px;
  background-color: #238def;
  box-shadow: 0px -4px 4px #0000001a;
}

.admin-logs .hover-4 {
  left: 569px;
  border-radius: 0px 15px 0px 0px;
  display: flex;
  width: 142px;
  height: 58px;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 10px;
  position: absolute;
  top: 188px;
  background-color: #238def;
  box-shadow: 0px -4px 4px #0000001a;
}

.admin-logs .text-wrapper-36 {
  position: absolute;
  top: 9px;
  left: 39px;
  font-family: "Inter-Regular", Helvetica;
  font-weight: 400;
  color: #ffffff;
  font-size: 20px;
  text-align: center;
  letter-spacing: 0;
  line-height: 15px;
  white-space: nowrap;
}

.admin-logs .line-3 {
  width: 1211px;
  height: 1px;
  top: 353px;
  left: 292px;
  position: absolute;
  object-fit: cover;
}
.search-container {
    display: flex;
    align-items: center;
    width: 320px; /* Adjust width to accommodate label and input */
    margin-bottom: 10px; /* Optional margin for spacing */
    position: absolute;
    top: 289px;
    left: 977px;
}

.search-label {
    margin-right: 10px; /* Space between label and search bar */
}

.search-bar {
    display: flex;
    align-items: center;
    flex: 1;
    height: 50px;
    border: 1px solid #ccc;
    border-radius: 5px;
    overflow: hidden;
}

input[type="text"] {
    flex: 1;
    height: 100%;
    padding: 10px;
    border: none;
    outline: none;
}

button {
    height: 100%;
    width: 100px;
    border: none;
    background: #007bff;
    color: #fff;
    font-size: 16px;
    cursor: pointer;
    border-radius: 10px;
    padding: 5px;
}

    </style>
    <div class="admin-logs">
        <div class="div">
            <div class="overlap">
                <div class="group">
                    <div class="overlap-group-wrapper">
                        <div class="overlap-group">
                            <div class="text-wrapper">View Logs</div>
                            <img class="vector" src="img/vector.svg" />
                        </div>
                    </div>
                    <div class="overlap-wrapper">
                        <div class="overlap-2">
                            <div class="rectangle"></div>
                            <div class="text-wrapper-2">Employees</div>
                            <img class="img" src="img/image.svg" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="table-display">
                <table>
                    <thead>
                        <tr>
                            <th data-sort="requestId">Request ID</th>
                            <th data-sort="technician">Technician</th>
                            <th data-sort="clientName">Client Name</th>
                            <th data-sort="callDuration">Call Duration</th>
                            <th data-sort="status">Status</th>
                            <th data-sort="lastCall">Last Call</th>
                            <th data-sort="priority">Priority</th>
                            <th data-sort="clientId">Client ID</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (Model != null)

                    {
                        @foreach (var item in Model)

                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.requestId)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.technicianId)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.callDuration)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.status)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.lastCallDate)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.priorityLevel)
                                </td>
                                 <td>
                                    @Html.DisplayFor(modelItem => item.clientId)
                                </td>
                                <td>
                                    <a href="/Admin/EmployeeDetails/{@item.requestId}">Details</a>
                                </td>
                            </tr>
                        }
                    }

                    else

                    {
                        <p>No data available.</p>
                    }
                    </tbody>
                </table>
            </div>
            <div class="text-wrapper-29">REQUEST LOGS</div>

            <div class="group-9">
                <div class="text-wrapper-35">Search:</div>
                <div class="rectangle-2"></div>
                <div class="overlap-6"><div class="text-wrapper-36">Search</div></div>
            </div>
            <img class="line-3" src="img/line-16.svg" />
        </div>
    </div>
    <script>
        const headerCells = document.querySelectorAll('.table-display th');
        let selectedHeader = null;

        headerCells.forEach(headerCell => {
            headerCell.addEventListener('click', () => {
                if (selectedHeader) {
                    selectedHeader.classList.remove('selected');
                }
                selectedHeader = headerCell;
                selectedHeader.classList.add('selected');
            });
        });
    </script>